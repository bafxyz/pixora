# Роль: Admin (Супер-администратор)

## Описание
Admin - супер-администратор платформы Pixora с полным доступом ко всем функциям и данным. Предназначен для владельцев платформы и технических администраторов.

## Права доступа

### Основные возможности
- ✅ Управление всеми клиентами (студиями)
- ✅ Просмотр глобальной статистики
- ✅ Доступ ко всем данным (фото, заказы, пользователи)
- ✅ Мониторинг и логи системы
- ❌ Прямое изменение данных Supabase Auth
- ❌ Изменение кода через интерфейс

### Доступные страницы
- `/admin` - Панель администратора
- `/studio-admin` - Доступ к панели любой студии
- `/photographer` - Доступ к панели фотографа
- `/session/*` - Просмотр всех фотосессий

### API Endpoints
```
GET /api/admin/stats - Статистика платформы
GET /api/admin/clients - Список клиентов
POST /api/admin/clients - Создание клиента
PATCH /api/admin/clients/[id] - Обновление клиента
DELETE /api/admin/clients/[id] - Удаление клиента
```

Плюс все endpoints ролей studio-admin, photographer, guest.

## Безопасность

### Проверка доступа (middleware)
```typescript
if (pathname.startsWith("/admin")) {
  if (user?.user_metadata?.role !== "admin") {
    return redirectToLogin(request);
  }
}
```

### Проверка в API
```typescript
const auth = await withRoleCheck(["admin"], request);
if (auth instanceof NextResponse) return auth;
```

## Типичные задачи

1. **Онбординг клиента** - создание студии, назначение studio-admin
2. **Техподдержка** - просмотр логов, решение проблем клиентов
3. **Мониторинг** - проверка метрик, производительности, ошибок

## Рекомендации
- Минимальное количество пользователей с ролью admin
- Регулярный аудит действий
- Не совмещать с другими ролями
