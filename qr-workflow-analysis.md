# QR Code Workflow Analysis - Pixora

## üîç –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞, –≤–æ—Ç –∫–∞–∫ —Å–µ–π—á–∞—Å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ QR –∫–æ–¥–æ–≤:

### 1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR –∫–æ–¥–∞ (QRGenerator –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)**
```typescript
// –°–æ–∑–¥–∞–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –¥–ª—è –≥–æ—Å—Ç—è
const uniqueId = `guest-${Date.now()}-${Math.random().toString(36).slice(2, 11)}`

// –î–∞–Ω–Ω—ã–µ –¥–ª—è QR –∫–æ–¥–∞
const qrPayload: QRData = {
  id: uniqueId,
  name: guestName.trim(),
  type: 'guest',
  timestamp: new Date().toISOString(),
}
```

### 2. **–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ QR –∫–æ–¥–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–æ–º**
- **Endpoint**: `/api/qr/scan`
- **–ü—Ä–æ—Ü–µ—Å—Å**:
  1. –§–æ—Ç–æ–≥—Ä–∞—Ñ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç QR –∫–æ–¥
  2. –°–∏—Å—Ç–µ–º–∞ –∏—â–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –≥–æ—Å—Ç—è –ø–æ ID
  3. –ï—Å–ª–∏ –≥–æ—Å—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω - —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–≥–æ –≤ –±–∞–∑–µ
  4. –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –≥–æ—Å—Ç—è –∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—É –∏ –∫–ª–∏–µ–Ω—Ç—É

### 3. **–î–æ—Å—Ç—É–ø –∫ –≥–∞–ª–µ—Ä–µ–µ**
- **URL**: `/api/gallery/[id]`
- **–î–æ—Å—Ç—É–ø**: –ü—É–±–ª–∏—á–Ω—ã–π (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç**: –¢–æ–ª—å–∫–æ —Ñ–æ—Ç–æ —Å `isSelected: true`

### 4. **–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞**
- **–ö–æ—Ä–∑–∏–Ω–∞**: –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- **–ß–µ–∫–∞—É—Ç**: –§–æ—Ä–º–∞ —Å –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- **–û–ø–ª–∞—Ç–∞**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å payment gateway

## ‚ùå –ü—Ä–æ–±–ª–µ–º—ã —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. **QR –∫–æ–¥ –ù–ï –¥–∞–µ—Ç –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –≥–∞–ª–µ—Ä–µ–µ**
```typescript
// /apps/web/src/app/gallery/page.tsx
const guestId = crypto.randomUUID() // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –°–õ–£–ß–ê–ô–ù–´–ô ID!
```
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/gallery` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π ID
- QR –∫–æ–¥ –Ω–µ —Å–≤—è–∑–∞–Ω —Å —Ä–µ–∞–ª—å–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º –∫ –≥–∞–ª–µ—Ä–µ–µ

### 2. **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –º–∞—Ä—à—Ä—É—Ç `/gallery/[id]`**
- –ù–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É guest ID
- QR –∫–æ–¥ –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–π –≥–∞–ª–µ—Ä–µ–µ

### 3. **Workflow —Ä–∞–∑–æ—Ä–≤–∞–Ω**
- QR –≥–µ–Ω–µ—Ä–∞—Ü–∏—è ‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç
- QR —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ì–∞–ª–µ—Ä–µ—è –ø–æ QR ‚ùå –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ó–∞–∫–∞–∑ ‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç

## üéØ –ö–∞–∫ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å (–≤–∞—à–∞ –∏–¥–µ—è)

### **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π workflow:**

1. **–§–æ—Ç–æ–≥—Ä–∞—Ñ —Å–æ–∑–¥–∞–µ—Ç QR –∫–æ–¥ –¥–ª—è –≥–æ—Å—Ç—è**
   ```
   Admin Panel ‚Üí QR Generator ‚Üí –í–≤–æ–¥–∏—Ç –∏–º—è –≥–æ—Å—Ç—è ‚Üí –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç QR
   ```

2. **–§–æ—Ç–æ–≥—Ä–∞—Ñ –¥–∞–µ—Ç QR –∫–æ–¥ –≥–æ—Å—Ç—é –∑–∞—Ä–∞–Ω–µ–µ**
   ```
   QR –∫–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç: { id: "guest-123", name: "John Doe" }
   ```

3. **–ì–æ—Å—Ç—å —Å–∫–∞–Ω–∏—Ä—É–µ—Ç QR –∫–æ–¥**
   ```
   QR –∫–æ–¥ ‚Üí –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ /gallery/guest-123 ‚Üí –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –≥–∞–ª–µ—Ä–µ—è
   ```

4. **–ì–æ—Å—Ç—å –≤–∏–¥–∏—Ç —Å–≤–æ–∏ —Ñ–æ—Ç–æ –∏ –¥–µ–ª–∞–µ—Ç –∑–∞–∫–∞–∑**
   ```
   –ì–∞–ª–µ—Ä–µ—è ‚Üí –í—ã–±–æ—Ä —Ñ–æ—Ç–æ ‚Üí –ö–æ—Ä–∑–∏–Ω–∞ ‚Üí –ó–∞–∫–∞–∑ ‚Üí –û–ø–ª–∞—Ç–∞
   ```

## üîß –ß—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å

### 1. **–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É `/gallery/[id]`**
```typescript
// apps/web/src/app/gallery/[id]/page.tsx
export default function GuestGalleryPage({ params }: { params: { id: string } }) {
  return <GuestGallery guestId={params.id} />
}
```

### 2. **–û–±–Ω–æ–≤–∏—Ç—å QR Generator –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏**
```typescript
// –í QRGenerator –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
const qrPayload = {
  id: uniqueId,
  name: guestName,
  url: `${window.location.origin}/gallery/${uniqueId}`, // –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞!
  type: 'guest',
  timestamp: new Date().toISOString(),
}
```

### 3. **–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ QR —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è**
```typescript
// –ö–æ–≥–¥–∞ –≥–æ—Å—Ç—å —Å–∫–∞–Ω–∏—Ä—É–µ—Ç QR –∫–æ–¥ –≤ –ª—é–±–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:
// qr-code-content ‚Üí redirect to /gallery/guest-123
```

## üì± –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π

### **–°—Ü–µ–Ω–∞—Ä–∏–π A: –ó–∞—Ä–∞–Ω–µ–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π QR**
1. **–§–æ—Ç–æ–≥—Ä–∞—Ñ** –≤ –∞–¥–º–∏–Ω–∫–µ —Å–æ–∑–¥–∞–µ—Ç QR –¥–ª—è "John Doe"
2. **–§–æ—Ç–æ–≥—Ä–∞—Ñ** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç QR –∫–æ–¥ –≥–æ—Å—Ç—é (–ø–µ—á–∞—Ç–∞–µ—Ç/–ø–æ email)
3. **–ì–æ—Å—Ç—å** —Å–∫–∞–Ω–∏—Ä—É–µ—Ç QR ‚Üí –ø–æ–ø–∞–¥–∞–µ—Ç –Ω–∞ `/gallery/guest-123`
4. **–ì–æ—Å—Ç—å** –ø–æ–∫–∞ –≤–∏–¥–∏—Ç –ø—É—Å—Ç—É—é –≥–∞–ª–µ—Ä–µ—é
5. **–§–æ—Ç–æ–≥—Ä–∞—Ñ** –Ω–∞ —Å—ä–µ–º–∫–µ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç QR ‚Üí –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –≥–æ—Å—Ç—è –∫ —Å–µ—Å—Å–∏–∏
6. **–§–æ—Ç–æ–≥—Ä–∞—Ñ** –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–æ—Ç–æ ‚Üí –ø–æ–º–µ—á–∞–µ—Ç –∫–∞–∫ `isSelected`
7. **–ì–æ—Å—Ç—å** –≤–∏–¥–∏—Ç —Å–≤–æ–∏ —Ñ–æ—Ç–æ ‚Üí –¥–µ–ª–∞–µ—Ç –∑–∞–∫–∞–∑

### **–°—Ü–µ–Ω–∞—Ä–∏–π B: QR —Å–æ–∑–¥–∞–Ω–Ω—ã–π –Ω–∞ –º–µ—Å—Ç–µ**
1. **–§–æ—Ç–æ–≥—Ä–∞—Ñ** –Ω–∞ —Å—ä–µ–º–∫–µ —Å–æ–∑–¥–∞–µ—Ç QR –¥–ª—è –Ω–æ–≤–æ–≥–æ –≥–æ—Å—Ç—è
2. **–§–æ—Ç–æ–≥—Ä–∞—Ñ** —Å—Ä–∞–∑—É —Å–∫–∞–Ω–∏—Ä—É–µ—Ç QR ‚Üí —Å–æ–∑–¥–∞–µ—Ç –≥–æ—Å—Ç—è –≤ –±–∞–∑–µ
3. **–§–æ—Ç–æ–≥—Ä–∞—Ñ** –¥–∞–µ—Ç QR –∫–æ–¥ –≥–æ—Å—Ç—é
4. **–ì–æ—Å—Ç—å** —Å–∫–∞–Ω–∏—Ä—É–µ—Ç QR ‚Üí –≤–∏–¥–∏—Ç –≥–∞–ª–µ—Ä–µ—é —Å —Ñ–æ—Ç–æ

## üöÄ –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- ‚úÖ **QR Generator** - —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **QR Scanner (—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ)** - —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **Database models** - –≥–æ—Ç–æ–≤—ã
- ‚úÖ **Gallery API** - —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **Cart & Checkout** - —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ùå **Guest Gallery Page** - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚ùå **QR ‚Üí Gallery redirect** - –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

## üí° –í—ã–≤–æ–¥

**–ù–ï–¢, —Å–µ–π—á–∞—Å —Å–∏—Å—Ç–µ–º–∞ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∑–∞–¥—É–º–∞–Ω–æ.**

–ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É `/gallery/[id]` –∏ –æ–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É QR –∫–æ–¥–æ–≤ –¥–ª—è –ø—Ä—è–º–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–π –≥–∞–ª–µ—Ä–µ–µ –≥–æ—Å—Ç—è.